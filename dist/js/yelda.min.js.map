{"version":3,"sources":["webpack://YeldaChat/webpack/universalModuleDefinition","webpack://YeldaChat/webpack/bootstrap","webpack://YeldaChat/./node_modules/core-js/library/modules/_ctx.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_object-dp.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_an-object.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_global.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_is-object.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_has.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_to-primitive.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_dom-create.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_fails.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_hide.js","webpack://YeldaChat/./node_modules/core-js/library/fn/object/define-property.js","webpack://YeldaChat/./node_modules/core-js/library/modules/es6.object.define-property.js","webpack://YeldaChat/./node_modules/babel-runtime/core-js/object/define-property.js","webpack://YeldaChat/./node_modules/babel-runtime/helpers/createClass.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_core.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_export.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_a-function.js","webpack://YeldaChat/./node_modules/babel-runtime/helpers/classCallCheck.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_descriptors.js","webpack://YeldaChat/./node_modules/core-js/library/modules/_property-desc.js","webpack://YeldaChat/./src/js/injector.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","aFunction","fn","that","length","undefined","a","b","apply","arguments","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","P","Attributes","e","TypeError","isObject","it","global","Math","self","Function","__g","S","val","toString","valueOf","document","is","createElement","exec","createDesc","$Object","desc","$export","F","default","_defineProperty2","obj","_interopRequireDefault","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","core","version","__e","ctx","hide","has","type","source","own","out","IS_FORCED","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","C","this","virtual","R","U","instance","bitmap","yeldaChat","uri","re","RegExp","separator","indexOf","match","replace","webChatContainer","setAttribute","body","appendChild","getElementById","assistantImage","innerHTML","data","url","chatUrl","updateQueryStringParameter","assistantId","assistantSlug","locale","isAdmin","iframeContainer","style","cssText","iframe","src","id","border","event","Event","dispatchEvent","customEvent","createEvent","initUIEvent","_this","eventMethod","addEventListener","eventer","message","classList","remove","setTimeout","display","triggerEvent","outerWidth","w","documentElement","g","getElementsByTagName","x","innerWidth","clientWidth","y","innerHeight","clientHeight","add","webChatIframe","width","height","origin","head","yeldaCss","rel","crossorigin","href","media","webchatUrl","createWebChatURL","createWebChatFrame","container","formatData","setUpChatIFrame","assistantUrl","chatPath","createContainer","addAssistantImage","handleOnResize","contentWindow","postMessage","handleFrameListner","_this2","onload","setupChat"],"mappings":"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","file":"js/yelda.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"YeldaChat\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"YeldaChat\"] = factory();\n\telse\n\t\troot[\"YeldaChat\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"yfVp\");\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","import '../css/injector.css'\n\nclass YeldaChat {\n  /**\n   * Updates the url with the given parameter and value\n   * @param {String} uri\n   * @param {String} key\n   * @param {String} value\n   */\n  updateQueryStringParameter (uri, key, value) {\n    const re = new RegExp('([?&])' + key + '=.*?(&|$)', 'i')\n    const separator = uri.indexOf('?') !== -1 ? '&' : '?'\n\n    if (uri.match(re)) {\n      return uri.replace(re, '$1' + key + '=' + value + '$2')\n    } else {\n      return uri + separator + key + '=' + value\n    }\n  }\n\n  /**\n   * Create webChatContainer, which is the main div containing image and webchat elements\n   * and add it to the DOM\n  */\n  createContainer () {\n    // Parent div to append the iframe\n    if (!this.webChatContainer) {\n      this.webChatContainer = document.createElement('div')\n      this.webChatContainer.setAttribute('id', 'yelda_container')\n      this.webChatContainer.setAttribute('class', 'yelda_container')\n      document.body.appendChild(this.webChatContainer)\n    }\n  }\n\n  /**\n  * Create assistantImage element and add it to webChatContainer element\n  */\n\n  addAssistantImage () {\n    if (!this.webChatContainer) {\n      this.webChatContainer = document.getElementById('yelda_container')\n    }\n\n    // Assistant Image Creation\n    this.assistantImage = document.createElement('div')\n    this.assistantImage.setAttribute('id', 'assistant_img')\n    this.assistantImage.setAttribute('class', 'assistant_img')\n    this.assistantImage.innerHTML = '<i class=\"fas fa-comment\"></i>'\n    this.webChatContainer.appendChild(this.assistantImage)\n  }\n\n  /**\n   * Build webchat URL with necessary parameters\n   * @param {String} url webchat url\n   * @param {String} assistantId assistant id\n   * @param {String} assistantSlug assistant slug\n   * @return {String} url\n  */\n  createWebChatURL (data) {\n    let url = data.chatUrl\n    url = this.updateQueryStringParameter(url, 'assistantId', data.assistantId)\n    url = this.updateQueryStringParameter(url, 'assistantSlug', data.assistantSlug)\n    url = this.updateQueryStringParameter(url, 'locale', data.locale)\n\n    if(data.isAdmin) {\n      url = this.updateQueryStringParameter(url, 'isAdmin', data.isAdmin)\n    }\n\n    return url\n  }\n\n  /**\n   * Create iframeContainer and it's child webchat iframe, and it to webChatContainer\n   * @param {String} url webchat url\n   * @return {Element} iframe HTML element\n  */\n\n  createWebChatFrame (url) {\n    if (!this.webChatContainer) {\n      this.webChatContainer = document.getElementById('yelda_container')\n    }\n\n    // Iframe creation\n    // Parent div to contain the iframe. To allow css animation on iframe\n    this.iframeContainer = document.createElement('div')\n    this.iframeContainer.setAttribute('id', 'yelda_iframe_container')\n    this.iframeContainer.setAttribute('class', 'yelda_iframe_container')\n    this.iframeContainer.style.cssText = 'display: none;'\n    this.webChatContainer.appendChild(this.iframeContainer)\n\n    var iframe = document.createElement('iframe')\n    iframe.src = url\n    iframe.id = 'web_chat_frame'\n    iframe.name = 'frame'\n    iframe.style.border = '0'\n    this.iframeContainer.appendChild(iframe)\n\n    return iframe\n  }\n  /**\n   * Triggers event on the target\n  */\n  triggerEvent (target, event) {\n    if (typeof Event === 'function') {\n      // modern browsers\n      target.dispatchEvent(new Event(event))\n    } else {\n      // This will be executed on old browsers and especially IE\n      var customEvent = window.document.createEvent('UIEvents')\n      customEvent.initUIEvent(event, true, false, window, 0)\n      target.dispatchEvent(customEvent)\n    }\n  }\n\n  /**\n   * handles communcation between parent window and iframe\n  */\n  handleFrameListner () {\n    var eventMethod = window.addEventListener\n      ? 'addEventListener'\n      : 'attachEvent'\n    var eventer = window[eventMethod]\n    var messageEvent = eventMethod === 'attachEvent' ? 'onmessage' : 'message'\n    eventer(messageEvent, (e) => {\n      if (e.data === 'closeChat' || e.message === 'closeChat') {\n        document.getElementById('web_chat_frame').classList.remove('y_active')\n        setTimeout(function () {\n          document.getElementById('assistant_img').style.display = 'block'\n          document.getElementById('yelda_iframe_container').style.display = 'none'\n        },\n        1000)\n      } else if (e.data === 'openChat' || e.message === 'openChat') {\n        this.triggerEvent(document.getElementById('assistant_img'), 'click')\n      }\n    })\n  }\n  /**\n   * handles window resize event by adding and removing class based on window width\n  */\n  handleOnResize () {\n    if (window.outerWidth < 768) {\n      const w = window\n      const d = document\n      const e = d.documentElement\n      const g = d.getElementsByTagName('body')[0]\n      const x = w.innerWidth || e.clientWidth || g.clientWidth\n      const y = w.innerHeight || e.clientHeight || g.clientHeight\n\n      this.webChatContainer.classList.add('yelda_mobile')\n      this.webChatIframe.style.width = x + 'px'\n      this.webChatIframe.style.height = y + 'px'\n    } else {\n      this.webChatContainer.classList.remove('yelda_mobile')\n    }\n  }\n  /**\n   * Load CSS asynchroneously\n   * @param {String} origin domain url\n  */\n\n  loadCssAsync (origin) {\n    var head = document.getElementsByTagName('head')[0]\n    var yeldaCss = document.createElement('link')\n    yeldaCss.rel = 'stylesheet'\n    yeldaCss.type = 'text/css'\n    yeldaCss.crossorigin = 'anonymous'\n    yeldaCss.href = origin + '/yelda/css/injector.min.css'\n    yeldaCss.media = 'all'\n    head.appendChild(yeldaCss)\n  }\n\n  /**\n   * Gererate webchatURL and create webchatIframe\n   * @param {Object} data { data.chatUrl, data.assistantId, data.assistantSlug }\n  */\n  setUpChatIFrame (data) {\n    const webchatUrl = this.createWebChatURL(data)\n    this.webChatIframe = this.createWebChatFrame(webchatUrl)\n  }\n  /**\n   * Delete old webchat element and create new webchat\n   * @param {Object} data { data.assistantUrl, data.chatPath }\n   * @param {Element} container webchat container\n  */\n  resetChat (data, container) {\n    container.remove() // Remove the element from the DOM tree its belongs\n    data = this.formatData(data)\n    this.setUpChatIFrame(data)\n    document.getElementById('assistant_img').style.display = 'block'\n  }\n\n  /**\n   * Set default value for data object used for multiple init functions\n   * @param {Object} data { data.assistantUrl, data.chatPath }\n   * @param {Object} data\n  */\n  formatData (data) {\n    data.assistantUrl = data.assistantUrl || 'https://app.yelda.ai'\n    data.chatPath = data.chatPath || ''\n    data.chatUrl = data.assistantUrl + data.chatPath\n    data.locale = data.locale || 'fr_FR'\n    data.isAdmin = data.isAdmin ? true : false\n    return data\n  }\n\n  /**\n   * Initilize the chat window\n   * @param {object} data\n  */\n  setupChat (data) {\n    data = this.formatData(data)\n    //this.loadCssAsync(data.assistantUrl)\n    this.createContainer()\n    this.addAssistantImage()\n    this.setUpChatIFrame(data)\n    window.addEventListener('resize', this.handleOnResize.bind(this))\n    this.triggerEvent(window, 'resize')\n\n    document\n      .getElementById('assistant_img')\n      .addEventListener('click', function (e) {\n        document.getElementById('assistant_img').style.display = 'none'\n        document.getElementById('yelda_iframe_container').style.display = 'block'\n        document.getElementById('web_chat_frame').classList.add('y_active')\n        var frame = document.getElementById('web_chat_frame')\n        frame.contentWindow.postMessage('openChat', '*')\n      })\n\n    this.handleFrameListner()\n  }\n\n  init (data) {\n    window.onload = (e) => {\n      this.setupChat(data)\n    }\n  }\n}\n\nlet yeldaChat = new YeldaChat()\n\nif (typeof window != 'undefined') {\n  window.yeldaChat = yeldaChat\n}\n\nexport default yeldaChat\n"],"sourceRoot":""}